/*global $ */
function fn_IniciarToolTipsBS() {'use strict'; $("[data-toggle='tooltip']").tooltip(); }

function fn_LinkAlCielo() {
    'use strict';
    var vHeight = $(window).height();
    $("#aHome").click(function () {
        $("html,body").animate({scrollTop: 0}, 1000);
    });
    $(window).scroll(function () {
        if ($(this).scrollTop() > vHeight) {
            $("#diHome").slideDown(400);
        } else {
            $("#diHome").slideUp(400);
        }
    });
}
function fn_AreYouInHeader(pObjeto) {
    'use strict';
    var vHeight = $(window).height(), vObjeto = $(pObjeto).offset().top;
    if (vHeight > vObjeto) {
        return 1;
    }
}
function fn_AnimarConClases(pObjeto, pAnimacionCss) {
    'use strict';
    $(pObjeto).each(function () {
        var vPosicionPantallaInferior = 0, vPosicionObjeto = 0, i = 0, vObjeto = $(this), vPuntoNoRetorno = 100, vWidth = $(window).width(), vHeight = $(window).height();
        if (vWidth < 767) { vPuntoNoRetorno = 1; }
        if ((fn_AreYouInHeader(vObjeto) !== 1)) {
            $(vObjeto).css("visibility", "hidden");
            $(window).scroll(function () {
                vPosicionPantallaInferior = $(this).scrollTop() + vHeight - vPuntoNoRetorno;
                vPosicionObjeto = $(vObjeto).offset().top;
                if ((vPosicionPantallaInferior > vPosicionObjeto) && (i < 1)) {
                    $(vObjeto).addClass(pAnimacionCss);
                    $(vObjeto).css("visibility", "visible");
                    i = i + 1;
                }
            });
        }
    });
}
function fn_ActualizarFechaFooter() {'use strict'; var vFecha = new Date(),
    vAnio = vFecha.getFullYear(); $("#spFecha").text(vAnio); }

function fn_SetValueDefParam(pParam, pDefaultValue) {
    'use strict';
    return typeof pParam !== 'undefined' ? pParam : pDefaultValue;
}
function fn_CheckImgUprightPosition(pImgClicked) {
    'use strict';
    var vWidthImg = $(pImgClicked).width(), vHeightImg = $(pImgClicked).height(), vCheckImgPosition = 0;
    if (vHeightImg > vWidthImg) {
        vCheckImgPosition = 1;
    }
    return vCheckImgPosition;
}
function fn_ClickImgForLoad() {
    'use strict';
    $(".js-load-on-click").on("click", function () {
        var vCheckImgPosition = fn_CheckImgUprightPosition($(this)),
            vDataSrc = $(this).children().attr("src"),
            vDataSrcset = fn_SetValueDefParam(($(this).children().attr("srcset")), ""),
            vDataSizes = fn_SetValueDefParam(($(this).children().attr("sizes")), ""),
            vDataAlt = fn_SetValueDefParam(($(this).children().attr("alt")), "Imagen a pantalla completa"),
            vDataTargetDad = $("body"),
            vDataAppended = $("<div class='modal__fondo'><a class='modal__anchor'><img src='" + vDataSrc + "'srcset='" + vDataSrcset + "'alt='" + vDataAlt + "' sizes='" + vDataSizes + "'class='modal__img'></a></div>").hide().fadeIn(700);
        if (vCheckImgPosition === 1) {
            vDataAppended.find("img").css("max-width", "560px");
            if (window.matchMedia("(orientation:landscape)").matches) {
                if ($(window).width() < 767) {
                    vDataAppended.find("img").css("max-width", "285px");
                }
            }
        }
        $(vDataTargetDad).append(vDataAppended);
        $(vDataAppended).on("click", function () {
            $(vDataAppended).fadeOut(500, function () {
                $(vDataAppended).remove();
            });
        });
    });
}
function fn_AddRandomClassInGalery(pTarget, pClase) {
    'use strict';
    var vSection = pTarget;
    $(vSection).each(function () {
        var vRandom = Math.floor(Math.random() * (10)) + 1;
        if ((vRandom % 2) === 0) {
            fn_AnimarConClases($(this), pClase);
        }
    });
}
$(function () {
    'use strict';
    fn_IniciarToolTipsBS();
    fn_LinkAlCielo();
    fn_ActualizarFechaFooter();
    fn_AnimarConClases("#di2Footer",  "animation__kderrape");
    fn_AnimarConClases(".js-load-on-click",  "animation__kfadein");
    fn_ClickImgForLoad();
    fn_AddRandomClassInGalery("#seGaleriaT div div", "animation__kderrape");
});